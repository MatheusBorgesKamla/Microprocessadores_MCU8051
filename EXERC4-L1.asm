	ORG 0
	SJMP PROG

	ORG 0003H
	SJMP EXT0

	ORG 000BH
	SJMP TIM0

	ORG 0013H
	SJMP EXT1

PROG:	MOV TMOD, #00H
	MOV TCON, #00000101B
	MOV IP, #00000101B
	MOV P1, #00H
	MOV TH0, #63H
	MOV TL0, #00
	MOV IE, #10000111B
	SETB TR0

	SJMP $

EXT0:	CLR EA
	MOV DPTR, #4000H
	MOVX A, @DPTR
	MOV DPTR, #4200H
	MOVX @DPTR, A
	SETB EA
	RETI

EXT1:	MOV DPTR, #4200H
	MOVX A, @DPTR
	MOV P1, A
	RETI

TIM0:	MOV A, P2
	MOV DPTR, #4000H
	MOVX @DPTR, A
	RETI

	END